////  RYImageDownloader.h//  RYUtils////  Created by Ryan Yuan on 11/20/10.//  Copyright 2010 Ryan. All rights reserved.//#import <Foundation/Foundation.h>/*! @header Downloader.h @abstract   FeedsDownloader declearation */@protocol RYImageDownloaderDelegate;/*! @class Downloader @abstract This class will be called to download resource from internet. */@interface RYImageDownloader : NSObject@property (nonatomic, copy) NSString *requestUrl;#if ! __has_feature(objc_arc)@property (nonatomic, retain)NSString* purpose;@property (nonatomic, retain) NSURLConnection *theConnection;@property (nonatomic, retain) NSMutableData *activeDownload;#else@property (nonatomic, strong)NSString* purpose;@property (nonatomic, strong) NSURLConnection *theConnection;@property (nonatomic, strong) NSMutableData *activeDownload;#endif/*!  @property delegate @abstract delegate to receive downloading finished event.  */#if ! __has_feature(objc_arc)@property (nonatomic, assign)id<RYImageDownloaderDelegate> delegate;#else@property (nonatomic, weak)id<RYImageDownloaderDelegate> delegate;#endif/*! @function startDownloadWithURL @abstract start to download the resource with url @param url resource url */- (void)startDownloadWithURL:(NSString*)url;/*! @function cancelDownload @abstract cancel the downloading cover icon. and also release resource */- (void)cancelDownload;@end/*! @protocol DownloaderDelegate @abstract DownloaderDelegate declearation */@protocol RYImageDownloaderDelegate- (void)downloader:(RYImageDownloader*)downloader completeWithNSData:(NSData*)data;- (void)downloader:(RYImageDownloader*)downloader didFinishWithError:(NSString*)message;@end